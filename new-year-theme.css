/**
 * Anti333.AI - New Year Seasonal Theme
 * seasonal: New Year, removable
 *
 * Activation: Add class "theme-new-year" to <body> or <html>
 * Feature flag: NEW_YEAR_THEME === true
 *
 * Rollback: Remove this file link and class to restore original appearance
 * Auto-disable recommendation: After January 15th
 */

/* ============================================
   TASK 1: Snow edge on "333" logo
   seasonal: New Year, removable
   ============================================ */

/* Snow edge overlay on logo wrapper - positioned at top of logo */
.theme-new-year .header-logo-wrapper::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    /* Organic, slightly uneven snow edge using SVG */
    background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='60' height='3' viewBox='0 0 60 3'%3E%3Cpath d='M0,2 Q3,0 6,1.5 Q9,3 12,1 Q15,0 18,2 Q21,3 24,1 Q27,0 30,1.5 Q33,3 36,1 Q39,0 42,2 Q45,3 48,1.5 Q51,0 54,2 Q57,3 60,1.5' fill='none' stroke='%23F1F4F8' stroke-width='2' stroke-linecap='round'/%3E%3C/svg%3E") no-repeat center;
    background-size: 100% 100%;
    opacity: 0.95;
    pointer-events: none;
    border-radius: 0 0 2px 2px;
}

/* Snow edge on text "333" in header title */
.theme-new-year .header-title .num {
    position: relative;
}

.theme-new-year .header-title .num::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    /* Thin organic snow line for text */
    background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='2' viewBox='0 0 100 2'%3E%3Cpath d='M0,1 Q5,0.3 10,1.2 Q15,1.8 20,0.8 Q25,0.2 30,1.3 Q35,1.9 40,0.7 Q45,0.3 50,1.4 Q55,1.8 60,0.6 Q65,0.2 70,1.3 Q75,1.7 80,0.9 Q85,0.3 90,1.2 Q95,1.6 100,0.8' fill='none' stroke='%23F1F4F8' stroke-width='1.5' stroke-linecap='round'/%3E%3C/svg%3E") no-repeat center;
    background-size: 100% 100%;
    opacity: 0.9;
    pointer-events: none;
}


/* ============================================
   TASK 2: Frosted dashed border for upload zones
   seasonal: New Year, removable
   ============================================ */

.theme-new-year .file-upload {
    /* Replace dashed border with rounded dots using SVG */
    border: none;
    background-image:
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25' height='100%25'%3E%3Crect width='100%25' height='100%25' fill='none' rx='8' ry='8' stroke='%23CBD5E0' stroke-width='2' stroke-dasharray='6,8' stroke-linecap='round'/%3E%3C/svg%3E");
    background-color: #FAFBFC;
}

/* Hover state with gold rounded dots */
.theme-new-year .file-upload:hover {
    background-image:
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25' height='100%25'%3E%3Crect width='100%25' height='100%25' fill='none' rx='8' ry='8' stroke='%23C9A227' stroke-width='2' stroke-dasharray='6,8' stroke-linecap='round'/%3E%3C/svg%3E");
    background-color: #FFFDF5;
}

/* Has-file state with green rounded dots */
.theme-new-year .file-upload.has-file {
    background-image:
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25' height='100%25'%3E%3Crect width='100%25' height='100%25' fill='none' rx='8' ry='8' stroke='%2348BB78' stroke-width='2' stroke-dasharray='6,8' stroke-linecap='round'/%3E%3C/svg%3E");
    background-color: #F0FFF4;
}


/* ============================================
   TASK 3: Micro frost cap on file icons
   seasonal: New Year, removable
   ============================================ */

.theme-new-year .file-item .file-preview {
    position: relative;
    overflow: visible;
}

/* Frost cap effect - very subtle icy overlay at top */
.theme-new-year .file-item .file-preview::before {
    content: '';
    position: absolute;
    top: -1px;
    left: 0;
    right: 0;
    height: 5px;
    /* Subtle frost gradient with organic edge */
    background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='60' height='5' viewBox='0 0 60 5'%3E%3Cdefs%3E%3ClinearGradient id='frost' x1='0%25' y1='0%25' x2='0%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%23E6EBF2' stop-opacity='0.07'/%3E%3Cstop offset='100%25' stop-color='%23E6EBF2' stop-opacity='0'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath d='M0,2 Q3,0.5 6,1.5 Q9,3 12,1.5 Q15,0 18,2 Q21,3.5 24,1 Q27,0 30,2 Q33,3.5 36,1.5 Q39,0 42,2 Q45,3 48,1 Q51,0.5 54,2 Q57,3 60,1.5 L60,5 L0,5 Z' fill='url(%23frost)'/%3E%3C/svg%3E") no-repeat center top;
    background-size: 100% 100%;
    pointer-events: none;
    z-index: 10;
    border-radius: 6px 6px 0 0;
}

/* Ensure frost doesn't appear on image previews to not obstruct content */
.theme-new-year .file-item .file-preview img ~ .frost-overlay {
    display: none;
}


/* ============================================
   Additional seasonal accents (subtle)
   seasonal: New Year, removable
   ============================================ */

/* Very subtle frost tint on container shadow */
.theme-new-year .container {
    box-shadow:
        0 20px 60px rgba(30, 58, 95, 0.15),
        0 0 0 1px rgba(230, 235, 242, 0.1);
}

/* Subtle frost accent on section borders */
.theme-new-year .section-title {
    position: relative;
}

.theme-new-year .section-title::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 100%;
    height: 1px;
    background: linear-gradient(90deg,
        transparent 0%,
        rgba(230, 235, 242, 0.3) 20%,
        rgba(230, 235, 242, 0.5) 50%,
        rgba(230, 235, 242, 0.3) 80%,
        transparent 100%);
    pointer-events: none;
}
